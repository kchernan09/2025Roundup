<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2025 Media Year In Roundup</title>
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
        /* Scrollbar */
        ::-webkit-scrollbar { width: 10px; }
        ::-webkit-scrollbar-track { background: #000000; }
        ::-webkit-scrollbar-thumb {
            background: #FF0040;
            border-radius: 5px;
        }
        ::-webkit-scrollbar-thumb:hover { background: #FF3366; }

        body {
            background-color: #000000;
            color: #ffffff;
            font-family: 'Inter', sans-serif;
            scroll-behavior: smooth;
        }
        
        .media-card {
            border: 1px solid rgba(255,255,255,0.1);
            background: #111111;
            scroll-margin-top: 80px; /* space for nav + section header */
            transition: box-shadow 0.2s, transform 0.2s;
        }

        .media-card.active-focus {
            box-shadow: 0 0 20px rgba(255,0,64,0.4);
            transform: translateY(-2px);
        }

        .glass-nav {
            background: #000000;
            border-bottom: 2px solid #FF0040;
        }

        .text-gradient {
            background: none;
            color: white;
            -webkit-text-fill-color: initial;
        }
        
        .album-rank-badge {
            color: #FF0040;
        }

        /* --- CAROUSEL STYLES --- */
        #carousel-strip {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 90px;
            background-color: #000000;
            border-top: 2px solid #FF0040;
            white-space: nowrap;
            overflow-x: auto;
            overflow-y: hidden;
            padding: 5px 20px;
            z-index: 100;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: opacity 0.3s ease;
        }
        
        #carousel-strip::-webkit-scrollbar {
            display: none; 
        }
        #carousel-strip {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        .carousel-item {
            display: inline-block;
            flex-shrink: 0;
            width: 70px;
            height: 70px;
            overflow: hidden;
            border: 2px solid transparent;
            cursor: pointer;
            transition: all 0.2s;
            position: relative;
            background: #222;
        }
        
        .carousel-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            opacity: 0.6;
            transition: opacity 0.2s;
        }

        .carousel-item:hover {
            border-color: #555;
        }
        .carousel-item.active {
            border-color: #FF0040;
            box-shadow: 0 0 15px rgba(255, 0, 64, 0.4);
            transform: scale(1.05);
        }
        .carousel-item.active img {
            opacity: 1;
        }

        .carousel-rank {
            position: absolute;
            bottom: 0;
            right: 0;
            background: #FF0040;
            color: white;
            font-size: 10px;
            font-weight: bold;
            padding: 1px 4px;
        }
    </style>
</head>
<body class="antialiased overflow-x-hidden">

<nav class="glass-nav fixed top-0 w-full z-50 py-5">
    <div class="w-[95%] max-w-[1800px] mx-auto flex justify-between items-center px-4">
        <div class="font-black text-xl tracking-tighter text-white">
            2025 <span class="text-[#FF0040] font-normal">ROUNDUP</span>
        </div>
        <div class="space-x-8 text-sm font-bold tracking-wide text-gray-400">
            <a href="#albums-section" class="hover:text-white transition-colors">ALBUMS</a>
            <a href="#songs-section" class="hover:text-white transition-colors">SONGS</a>
        </div>
    </div>
</nav>

<header class="min-h-[80vh] flex flex-col justify-center items-center text-center px-4 relative">
    <h1 class="text-8xl md:text-[12rem] font-black mb-2 tracking-tighter text-gradient leading-none text-white">2025</h1>
    <p class="text-2xl text-[#FF0040] tracking-[0.5em] uppercase font-light">The Roundup</p>
</header>

<main class="w-[95%] max-w-[1800px] mx-auto pb-48">

    <section id="albums-section" class="mb-48" data-type="albums">
        <div class="sticky top-[64px] z-40 py-6 bg-black mb-12 border-b-2 border-white/40">
            <h2 class="text-5xl font-black tracking-tighter text-white">
                ALBUMS <span class="text-2xl text-[#FF0040] align-middle ml-2 font-normal">TOP 30</span>
            </h2>
        </div>
        <div id="album-list" class="grid grid-cols-1 gap-6"></div> 
    </section>

    <section id="songs-section" class="mb-48" data-type="songs">
        <div class="sticky top-[64px] z-40 py-6 bg-black mb-12 border-b-2 border-white/40">
            <h2 class="text-5xl font-black tracking-tighter text-white">
                SONGS <span class="text-2xl text-[#FF0040] align-middle ml-2 font-normal">TOP 50</span>
            </h2>
        </div>
        <div id="song-list" class="space-y-16"></div>
    </section>

</main>

<div id="carousel-strip"></div>

<footer class="text-center py-24 text-gray-600 text-sm border-t border-gray-900 bg-black/50">
    <p>Generated by Gemini â€¢ 2025</p>
</footer>

<script>
    /* SONGS & ALBUM DATA (unchanged) */
    const songs = [.../* your songs data here unchanged */];
    const albums = [.../* your albums data here unchanged */];

    const reversedSongs  = [...songs].reverse();
    const reversedAlbums = [...albums].reverse();

    /* UPDATED SONG RENDERER WITH MOBILE-SAFE BADGE */
    const renderSong = (song) => {
        const playerURL = `https://open.spotify.com/embed/track/${song.spotifyId}?utm_source=generator`;
        const linkURL = `https://open.spotify.com/track/${song.spotifyId}`;

        return `
        <div id="song-${song.rank}" 
             class="media-card rounded-2xl overflow-hidden p-0 flex flex-col md:flex-row relative group shadow-2xl"
             data-rank="${song.rank}">
            
            <div class="p-8 md:w-2/5 flex flex-col justify-center relative z-10 bg-black/50 border-r border-white/5">

                <!-- mobile-safe rank badge -->
                <div class="w-12 h-12 flex items-center justify-center rounded-full shadow-lg 
                            bg-white text-black font-black text-xl
                            mb-4
                            md:absolute md:top-4 md:left-4 md:mb-0">
                    ${song.rank}
                </div>

                <h3 class="text-2xl font-bold mb-3 leading-tight text-white">${song.title}</h3>
                <p class="text-gray-400 text-lg font-medium">${song.artist}</p>
                <a href="${linkURL}" target="_blank" rel="noopener"
                   class="inline-flex items-center mt-4 px-4 py-2 rounded-full bg-white text-black text-sm font-semibold tracking-wide hover:bg-gray-200 transition-colors">
                    Open in Spotify
                </a>
            </div>

            <div class="md:w-3/5 h-64 md:h-96 bg-black relative">
                <iframe src="${playerURL}"
                        width="100%" height="100%" frameborder="0"
                        allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"
                        loading="lazy"></iframe>
            </div>
        </div>
        `;
    };

    const renderAlbum = (album) => {
        const imageHtml = album.imageUrl
            ? `<img src="${album.imageUrl}" class="object-cover w-full h-full" />`
            : `<div class="w-full h-full bg-neutral-800 flex items-center justify-center text-xs text-gray-500">Image Missing</div>`;

        return `
        <div id="album-${album.rank}" 
             class="media-card rounded-xl overflow-hidden flex relative group shadow-lg bg-[#0A0A0A] hover:bg-[#1A1A1A]"
             data-rank="${album.rank}">
            
            <div class="w-32 h-32 flex-shrink-0 relative border-r border-[#FF0040]">
                ${imageHtml}
            </div>

            <div class="p-4 flex flex-col justify-center">
                <div class="text-xs font-bold text-[#FF0040] mb-1 tracking-widest uppercase album-rank-badge">#${album.rank}</div>
                <h3 class="text-xl font-bold text-white tracking-tight">${album.title}</h3>
                <p class="text-gray-400 text-sm mt-1 uppercase tracking-wider">${album.artist}</p>
            </div>
        </div>
        `;
    };

    document.getElementById('song-list').innerHTML  = reversedSongs.map(renderSong).join('');
    document.getElementById('album-list').innerHTML = reversedAlbums.map(renderAlbum).join('');

    const cardObserver = new IntersectionObserver((entries) => {
        entries.forEach(e => e.target.classList.toggle('active-focus', e.isIntersecting));
    }, { threshold: 0.5, rootMargin: "-20% 0px -20% 0px" });

    document.querySelectorAll('.media-card').forEach(card => cardObserver.observe(card));
</script>

</body>
</html>
